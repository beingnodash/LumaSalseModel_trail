# Luma高校销售与收益分析模型 - Streamlit应用

这是Luma高校销售与收益分析模型的交互式Web应用版本，基于Streamlit开发。通过这个应用，您可以直观地调整模型参数、运行模型、查看结果并进行敏感性分析。

## 功能特点

- **参数化配置**：通过直观的UI控件调整所有模型参数。
- **实时计算**：即时运行模型并查看结果。
- **丰富可视化**：多种图表展示收入趋势、结构分解等。
- **敏感性分析**：分析单个关键参数对结果的影响。
- **策略优化**：自动寻找最优参数组合以最大化特定目标（如总收入）。
- **数据导出**：支持将结果导出为CSV格式。

## 运行应用

### 安装依赖

首先，确保您已安装所有必要的依赖：

```bash
# 使用poetry安装依赖
poetry install

# 安装streamlit和plotly
poetry add streamlit plotly
```

### 启动应用

```bash
# 进入项目目录
cd LumaSalseModel01

# 启动Streamlit应用
poetry run streamlit run streamlit_app/app.py
```

应用将在本地启动，并自动在浏览器中打开（通常是http://localhost:8501）。

## 应用结构

- **主页**：模型参数设置和基本结果展示
- **可视化页面**：提供丰富的数据可视化功能
- **敏感性分析页面**：分析参数变化对结果的影响。
- **策略优化页面**：设置优化目标和参数范围，运行优化算法寻找最佳参数组合。

## 使用指南

1. 在主页左侧设置模型参数
2. 点击"运行模型"按钮执行计算
3. 查看右侧的结果摘要和基本图表
4. 使用页面顶部的导航切换到可视化或敏感性分析页面
5. 在可视化页面选择不同类型的图表查看详细结果
6. 在敏感性分析页面选择参数和输出指标进行分析。
7. 在策略优化页面选择要优化的参数、设置范围、选择优化算法，然后运行优化以找到最佳参数组合。

## 注意事项

- 首次访问可视化或敏感性分析页面时，需要先在主页运行模型
- 参数设置中的分布总和（如模式分布、付费用户分布）应为100%
- 敏感性分析可能需要较长时间，请耐心等待。
- 策略优化（尤其是网格搜索）在参数较多或范围较大时可能需要很长时间，请根据提示调整设置。
